<!DOCTYPE html>
<html>

<head>
    <title>CSS Example</title>
    <link rel="stylesheet" href="mycss.css" type="text/css">
</head>

<body>
    <center>
        <h1>
            <font color="red">Hello World</font>
        </h1>
    </center>
    <h3 id="friends">
        Friends
    </h3>
    <div id="joe">My name is Joe.</div>
    <br>
    <img src="mona_lisa.jpg" alt="Mona Lisa" id="monalisa">
    <br>
    <div>
        <input type="checkbox" id="imgview">
        <label for="imgview">Show/Hide image</label>
    </div>
    <div>
        <input type="checkbox" id="h3view">
        <label for="h3view">Show/Hide h3</label>
    </div>
    <div id="sally">My best friend is Sally.</div>
    <br>
    <br>
    <div id="bob">My other friend is Bob.</div> <br>
    <br>
</body>
<script>
    document.getElementById("imgview").checked = true;
    document.getElementById("imgview").onclick = function(){
        if(document.getElementById("imgview").checked == true){
            document.getElementById("monalisa").style.visibility = "visible";
        }
        else{
            document.getElementById("monalisa").style.visibility = "hidden";
        }
    }
    document.getElementById("h3view").checked = true;
    document.getElementById("h3view").onclick = function(){
        if(document.getElementById("h3view").checked == true){
            document.getElementById("friends").style.visibility = "visible";
        }
        else{
            document.getElementById("friends").style.visibility = "hidden";
        }
    }

    var image = document.getElementById("monalisa");
    image.addEventListener("load",function(){
        desaturateImage(image);
    })

    function desaturateImage(image){
        var canvas = document.createElement("canvas");
        image.parentNode.insertBefore(canvas,image);
        canvas.width = image.width;
        canvas.height = image.height;
        var ctx = canvas.getContext("2d");
        ctx.drawImage(image,0,0)

        var imgData = ctx.getImageData(0,0,canvas.width,canvas.height);

        for(var i=0;i < imgData.data.length;i+=4){
            var gray = 0.2126*imgData.data[i]+0.7152*imgData.data[i+1]+0.0722*imgData.data[i+2];
            gray = gray*1
            imgData.data[i] = gray;
            imgData.data[i+1] = gray;
            imgData.data[i+2] = gray;

        }
        ctx.putImageData(imgData,0,0)
    }
</script>

</html>